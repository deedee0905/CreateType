<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.amita.createType.ex.individual.point.dao.PointDAO">
  	<insert id="insertPointCharge" parameterType="map">
  		INSERT INTO
  			`point`
  		(
  			`userId`
  			,`methodOfPayment`
  			,`price`
  			,`postId`
  			,`createdAt`
  			,`updatedAt`
  		)
  		VALUES
  		(
  			#{userId}
  			,#{methodOfPayment}
  			,#{price}
  			,0
  			,now()
  			,now()
  		)
  	
  	</insert>
  	
  	<select id="selectPointByUserId" parameterType="int" resultType="int">
  		SELECT
  			sum(price)
  		FROM
  			`point`
  		WHERE
  			`userId` = ${userId} 
  	
  	</select>
  	
  
  </mapper>
